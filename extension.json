{
  "slug": "tickets",
  "name": "Tickets System",
  "version": "1.0.0",
  "description": "Complete support ticket system with categories, assignments, notifications, templates, automation, and DataTables",
  "author": "BITHOVEN Team",
  "created_at": "2025-10-31T12:00:00+00:00",
  "updated_at": "2025-11-28T02:48:00Z",
  
  "homepage": "https://github.com/bithoven/tickets",
  "repository": {
    "type": "vcs",
    "url": "https://github.com/Madniatik/bithoven-extension-tickets.git"
  },
  
  "category": "Productivity",
  "icon": "ki-ticket",
  "featured": true,
  "tags": ["support", "helpdesk", "tickets", "automation"],
  
  "permissions": [
    "extensions:tickets:base:view",
    "extensions:tickets:base:create",
    "extensions:tickets:base:edit",
    "extensions:tickets:base:assign",
    "extensions:tickets:categories:manage",
    "extensions:tickets:templates:manage",
    "extensions:tickets:automation:manage",
    "extensions:tickets:sla:manage"
  ],
  
  "system_tables": ["notifications"],
  
  "migrations": {
    "required": true,
    "path": "database/migrations"
  },
  
  "requirements": {
    "php": "^8.2",
    "laravel": "^11.0"
  },
  
  "min_version": "1.0.0",
  "dependencies": {
    "bithoven/core": "^1.4.0"
  },
  "seeders": {
    "core": [
      "TicketsPermissionsSeeder",
      "CategorySeeder",
      "AutomationRulesSeeder",
      "TemplatesResponsesSeeder"
    ],
    "demo": [
      "TicketsDemoSeeder"
    ],
    "uninstall": [
      "TicketsUninstallSeeder"
    ]
  },
  
  "changelog": {
    "v1.2.3": {
      "date": "2025-11-27",
      "changes": [
        "REFACTOR: Code sanitation - removed ~190 lines of dead code from ServiceProvider",
        "Removed registerExtensionHooks() method (ExtensionManager doesn't support static hooks)",
        "Removed installPermissions() method (never executed, seeder handles this)",
        "Removed uninstallPermissions() method (never executed, replaced with UninstallSeeder)",
        "Created TicketsPermissionsSeeder for proper permission installation with role-based assignment",
        "Created TicketsUninstallSeeder for proper permission cleanup on uninstall",
        "Added 'seeders.uninstall' configuration in extension.json",
        "Updated CPANEL core: ExtensionSeederManager with runUninstall() method",
        "Updated CPANEL core: ExtensionUninstaller to execute uninstall seeders before migration rollback",
        "Role strategy: Admin roles (all 8 perms), Support (4 perms), User (2 perms)"
      ],
      "migration_notes": "No database changes. Code cleanup and architecture improvement only.",
      "breaking_changes": false,
      "components": ["code", "seeders", "config"]
    },
    "v1.2.2": {
      "date": "2025-11-26",
      "changes": [
        "Updated to extension.json schema v1.0.0",
        "Added created_at and updated_at timestamps",
        "Added missing fields: author, homepage, repository, permissions",
        "Removed deprecated fields (breaking_changes top-level, migrations.count/details)",
        "Added requirements section",
        "Normalized structure across all extensions"
      ],
      "migration_notes": "No database changes. Configuration update only.",
      "breaking_changes": false,
      "components": ["config"]
    },
    "v1.1.5": {
      "date": "2025-11-16",
      "changes": [
        "Fixed seeders configuration in extension.json",
        "Corrected core seeder to CategorySeeder (actual class name)",
        "Corrected demo seeder to TicketsDemoSeeder (actual class name)",
        "Removed non-existent TicketPrioritiesSeeder and TicketStatusesSeeder references",
        "Note: priority and status are ENUM fields in tickets table, not separate tables"
      ],
      "migration_notes": "No migrations required. Configuration fix only.",
      "breaking_changes": false,
      "components": ["config"]
    },
    "v1.1.1": {
      "date": "2025-11-14",
      "changes": [
        "Fixed TypeError in CommentAdded email notification",
        "Corrected type hint from Comment to TicketComment in CommentAddedMail",
        "Fixed listener to pass only comment object (ticket accessed via relation)"
      ],
      "migration_notes": "No migrations required. Patch release for email notification bugfix.",
      "breaking_changes": false,
      "components": ["code"]
    },
    "v1.1.0": {
      "date": "2025-11-13",
      "changes": [
        "Migrated all tables to Yajra DataTables v10.x (Tickets, Templates, Responses, Automation Rules, Logs)",
        "Added Ticket Templates for pre-configured common issues",
        "Added Canned Responses for quick agent replies",
        "Added Automation Rules for automatic ticket routing",
        "Added Automation Logs for execution tracking",
        "Implemented complete async Email Notifications system (5 types)",
        "Added Notification Preferences page at /settings/notifications",
        "Enhanced UI with sidebar menu link for notification settings",
        "Improved Active State Detection for showcase menu items"
      ],
      "migration_notes": "All 8 migrations are required. No data loss on update from v1.0.0. New tables: ticket_templates, ticket_canned_responses, ticket_automation_rules, ticket_automation_logs, ticket_notification_preferences.",
      "breaking_changes": false,
      "components": ["code", "database", "views", "config"]
    },
    "v1.0.0": {
      "date": "2025-10-31",
      "changes": [
        "Initial release",
        "Complete ticket management system with CRUD operations",
        "Ticket categories with colors and icons",
        "Comments system with internal notes",
        "File attachments support",
        "Ticket assignment to agents with auto-assignment",
        "Status tracking (Open, In Progress, Pending, Resolved, Closed)",
        "Priority levels (Low, Medium, High, Urgent)",
        "Policy-based authorization with Spatie Permission",
        "Event system (TicketCreated, TicketAssigned, TicketResolved)",
        "Multi-channel notifications (database, mail, slack)",
        "RESTful API endpoints",
        "Metronic-styled Blade views",
        "Statistics dashboard",
        "SLA configuration support",
        "CLI command to close stale tickets",
        "Comprehensive documentation"
      ],
      "migration_notes": "Initial database setup. Creates 4 core tables: ticket_categories, tickets, ticket_comments, ticket_attachments. Includes seeder for default categories.",
      "breaking_changes": false,
      "components": ["code", "database", "views", "config"]
    }
  }
}
